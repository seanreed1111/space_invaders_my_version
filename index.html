<!doctype html>
<html>
<head>
	<title>Space Invaders!</title>
	<script src="helpers.js"></script>
	<style type="text/css">
		canvas {
			background-color: #000;
			display: block;
			position: absolute;
			margin: auto;
			top: 0;
			bottom: 0;
			left: 0;
			right: 0;

		}
	</style>
</head>
<body>
<script type="text/javascript">
	var screen, input, frames;
	var alSprite, taSprite, ciSprite;
	var aliens, dir, tank, bullets, cities;
	
	function main(){
		screen = new Screen(510,600);
		input = new InputHandler();

		var img = new Image();
		img.addEventListener("load", function(){
			alSprite = [
			[new Sprite(this,0,0,22,16), new Sprite(this,0,0,22,16)],
			[new Sprite(this,0,0,22,16), new Sprite(this,0,0,22,16)],
			[new Sprite(this,0,0,22,16), new Sprite(this,0,0,22,16)],
			];
			// taSprite, ciSprite files needed
			init();
			run();
		});
		img.src = "assets/enemy.png";
	};
	function init(){
		frames  = 0;

		aliens = [];
		var rows = [1,0,0,2,2];
		for (var i=0, len = rows.length; i<len;i++){
			for(var j = 0; j<10; j++){
				var a = rows[i];
				aliens.push({
					sprite: alSprite[a],
					x: 30 + j*30,
					y: 30 + i*30,
					w: alSprite[a][0].w,
					h: alSprite[a][0].h
				});
			}

		}
	};

	function run(){
		var loop = function(){
			update();
			render();

			window.requestAnimationFrame(loop, screen.canvas);
		}
		window.requestAnimationFrame(loop, screen.canvas);
	};

	function update(){};

	function render(){
		for (var i = 0, len = aliens.length; i < len; i++){
			var a = aliens[i];
			screen.drawSprite(a.sprite[0], a.x, a.y);
		}
	};
	main();
</script>

</body>
</html>